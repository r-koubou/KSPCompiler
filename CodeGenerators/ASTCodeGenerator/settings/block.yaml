---
Namespace: Blocks
ClassNamePrefix: Ast
ClassNameSuffix: ''
SourceFilePrefix: Ast
SourceFileSuffix: ".cs"
Classes:
#---------------------------------------------------------------------
# CompilationUnit
#---------------------------------------------------------------------
- Name: CompilationUnit
  Description: a root node
  BaseClasses:
  - AstNode
  Fields:
  - Body: public AstNodeList<AstNode> GlobalBlocks { get; }
    Description: Global blocks for callback definitions, user-defined functions, etc.
  Constructors:
    - Body: |-
        public ##CLASSNAME##( IAstNode parent )
            : base( AstNodeId.##ID##, parent )
        {
            GlobalBlocks = new AstNodeList<AstNode>( this );
        }
  HasAccept: true
  HasAcceptChildren: true
  AcceptChildrenStatements: |-
    foreach( var n in GlobalBlocks )
    {
        n.Accept( visitor );
    }
#---------------------------------------------------------------------
# CallbackDeclaration
#---------------------------------------------------------------------
- Name: CallbackDeclaration
  BaseClasses:
  - AstFunctionalSyntaxNode
  Description: a callback definition
  Fields:
  - Body: public AstArgumentList ArgumentList { get; }
    Description: Argument node list
  - Body: public virtual bool HasArgument => ArgumentList.HasArgument;
    Description: Whether one or more arguments are stored in the ArgumentList or not.
  - Body: 'public virtual int ArgumentCount => HasArgument ? ArgumentList.Arguments.Count : 0;'
    Description: Number of arguments stored in ArgumentList.
  Constructors:
    - Body: |-
        public ##CLASSNAME##( IAstNode parent )
            : base( AstNodeId.##ID##, parent )
        {
            ArgumentList = new AstArgumentList( this );
        }
  HasAccept: false
  HasAcceptChildren: false
#---------------------------------------------------------------------
# UserFunctionDeclaration
#---------------------------------------------------------------------
- Name: UserFunctionDeclaration
  BaseClasses:
  - AstFunctionalSyntaxNode
  Description: an user Defined Functions (KSP)
  HasAccept: false
  HasAcceptChildren: false
#---------------------------------------------------------------------
# Argument
#---------------------------------------------------------------------
- Name: Argument
  BaseClasses:
  - AstNode
  - INameable
  Description: an argument
  HasAccept: true
  HasAcceptChildren: true
#---------------------------------------------------------------------
# ArgumentList
#---------------------------------------------------------------------
- Name: ArgumentList
  BaseClasses:
  - AstNode
  Description: an argument list
  Fields:
  - Body: public AstNodeList<AstArgument> Arguments { get; } = new();
    Description: Argument node list
  - Body: public bool HasArgument => Arguments.Count > 0;
  - Body: public int ArgumentCount => Arguments.Count;
  HasAccept: true
  HasAcceptChildren: true
#---------------------------------------------------------------------
# Block
#---------------------------------------------------------------------
- Name: Block
  BaseClasses:
  - AstNode
  Description: a callback, block in function
  Fields:
  - Body: public AstNodeList<AstNode> Statements { get; } = new();
    Description: Statements
  HasAccept: true
  HasAcceptChildren: true
  AcceptChildrenStatements: |-
    foreach( var n in Statements )
    {
        n.Accept( visitor );
    }
#---------------------------------------------------------------------
# CaseBlock
#---------------------------------------------------------------------
- Name: CaseBlock
  Usings:
  - KSPCompiler.Domain.Ast.Expressions
  BaseClasses:
  - AstNode
  Description: a case block in the select statement
  Fields:
  - Body: public AstExpressionSyntaxNode ConditionFrom { get; set; } = AstExpressionSyntaxNode.None;
    Description: Conditional expression for "case" (starting value)
  - Body: public AstExpressionSyntaxNode ConditionTo { get; set; } = AstExpressionSyntaxNode.None;
    Description: Conditional expression for "case" (end value *optional)
  - Body: public AstBlock CodeBlock { get; }
    Description: Code block in this "case"
  Constructors:
    - Body: |-
        public ##CLASSNAME##( IAstNode parent )
            : base( AstNodeId.##ID##, parent )
        {
            CodeBlock = new AstBlock( this );
        }
  HasAccept: true
  HasAcceptChildren: true
  AcceptChildrenStatements: |-
    CodeBlock.AcceptChildren( visitor );
